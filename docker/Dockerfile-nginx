# Dockerfile-nginx
FROM nginx:latest

# Copie la config Nginx (default.conf)
# ATTENTION au chemin source : s'il est dans "build/nginx",
# il faut que ce r√©pertoire soit visible dans le "context" du build Docker.
COPY build/nginx/default.conf /etc/nginx/conf.d/default.conf

# Copie de tout le projet Symfony (y compris public/, src/, etc.)
# pour que Nginx puisse servir les assets, CSS, etc.
RUN mkdir -p /var/www/project
WORKDIR /var/www/project
COPY . /var/www/project

EXPOSE 8080

# Lancement de nginx
CMD ["nginx", "-g", "daemon off;"]
